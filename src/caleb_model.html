<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoilaCode</title>
    <!-- <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"> -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 p-8 flex items-center justify-start h-screen">
    <button onclick="openModal()" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Give Feedback</button>

    <div id="myModal" class="fixed top-0 left-1/2 transform -translate-x-1/2 p-6 bg-white rounded shadow-lg hidden w-96 h-74">
        <div class="relative">
            <h2 class="text-blue-500 text-2xl mb-4">Feedback</h2>
            <button onclick="closeModal()" class="absolute top-2 right-2 text-gray-500 hover:text-gray-700">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>
        <textarea class="w-full h-32 p-2 border-2 border-gray-400 rounded mb-4" placeholder="Enter your feedback"></textarea>
        <div class="flex justify-end">
            <button class="button allow bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mx-2" onclick="sendFeedback()">Send</button>
            <button class="button deny bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded mx-2" onclick="closeModal()">Close</button>
        </div>
        <div id="confirmationMessage" class="hidden mt-4 text-green-500 font-bold">Feedback sent successfully!</div>
    </div>

    <script>
        function openModal() {
            var modal = document.getElementById("myModal");
            modal.classList.remove("hidden");

            // Clears the textarea content
            document.querySelector('#myModal textarea').value = "";
            // Hide the confirmation message
            document.getElementById("confirmationMessage").classList.add("hidden");
        }

        function closeModal() {
            var modal = document.getElementById("myModal");
            modal.classList.add("hidden");
        }

        function sendFeedback() {
            var feedback = document.querySelector('#myModal textarea').value;
            if (feedback.trim() !== "") {
                // Show the confirmation message within the modal
                var confirmationMessage = document.getElementById("confirmationMessage");
                confirmationMessage.innerText = "Feedback sent successfully!";
                confirmationMessage.classList.remove("hidden");
            } else {
                alert("Please enter your feedback before sending.");
            }
        }

        window.onclick = function(event) {
            var modal = document.getElementById("myModal");

            if (event.target === modal) {
                modal.classList.add("hidden");
            }
        }
    </script>
</body>

</html>
